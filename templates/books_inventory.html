<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Books Inventory</title>
  <link rel="stylesheet" href="{{ url_for('static', filename='css/books_inventory.css') }}">
</head>
<body>
  <div class="inventory-container">
    <h2>Books Inventory</h2>

    <div class="controls">
      <input type="text" placeholder="Search by title or ID..." class="search-input">

      <div class="form-group">
        <input type="text" placeholder="Book ID" id="add-book-id">
        <input type="text" placeholder="Title" id="add-title">
        <input type="text" placeholder="Author" id="add-author">
        <button class="btn add" onclick="addBook()">Add Book</button>
      </div>

      <div class="form-group">
        <input type="text" placeholder="Book ID" id="remove-book-id">
        <button class="btn delete" onclick="removeBook()">Remove Book</button>
      </div>
    </div>

    <table class="books-table">
      <thead>
        <tr>
          <th>Book ID</th>
          <th>Title</th>
          <th>Author</th>
          <th>Issued To</th>
          <th>Status</th>
        </tr>
      </thead>
      <tbody id="books-tbody">
        <tr>
          <td>BK001</td>
          <td>Mathematics Essentials</td>
          <td>Jane Doe</td>
          <td contenteditable="true">Student A</td>
          <td contenteditable="true" class="status issued">Issued</td>
        </tr>
        <tr>
          <td>BK002</td>
          <td>History of Time</td>
          <td>John Smith</td>
          <td contenteditable="true">—</td>
          <td contenteditable="true" class="status available">Available</td>
        </tr>
      </tbody>
    </table>
  </div>

  <script>
    function addBook() {
      const id = document.getElementById("add-book-id").value;
      const title = document.getElementById("add-title").value;
      const author = document.getElementById("add-author").value;
      if (!id || !title || !author) return;

      const table = document.getElementById("books-tbody");
      const row = document.createElement("tr");

      row.innerHTML = `
        <td>${id}</td>
        <td>${title}</td>
        <td>${author}</td>
        <td contenteditable="true">—</td>
        <td contenteditable="true" class="status available">Available</td>
      `;

      table.appendChild(row);

      document.getElementById("add-book-id").value = "";
      document.getElementById("add-title").value = "";
      document.getElementById("add-author").value = "";
    }

    function removeBook() {
      const id = document.getElementById("remove-book-id").value;
      if (!id) return;

      const rows = document.querySelectorAll("#books-tbody tr");
      rows.forEach(row => {
        if (row.children[0].innerText === id) {
          row.remove();
        }
      });

      document.getElementById("remove-book-id").value = "";
    }
  </script>
</body>
</html>
